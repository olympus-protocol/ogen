<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Dashboard | Ogen </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="refresh" content="5" />

    <!-- Favicon -->
    <link rel="shortcut icon" href="/static/img/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/static/img/favicon.ico" type="image/x-icon">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/navbar.css">
    <link rel="stylesheet" href="/static/css/footer.css">

</head>

<body>
<!-- Header -->
<header>
    <!-- Navbar -->
    <nav class="navbar sticky-top navbar-expand-lg navbar-dark">
        <a class="navbar-brand" href="/">
            <img src="/static/img/logo.png" alt="Olympus" />
        </a>
    </nav>
</header>

<!-- Main -->
<main>
    <div class="container">
        <div class="grid">
            <div class="row justify-content-center text-center" style="margin: 10px">
                <h1>Dashboard</h1>
            </div>

            <div class="accordion md-accordion" id="accordion" role="tablist" aria-multiselectable="true">

                <div class="card">

                    <div class="card-header" role="tab" id="nodeStatsTitle">
                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#nodeStatsBody"
                           aria-expanded="false" aria-controls="nodeStatsBody">
                            <h5 class="mb-0">
                                Node Stats
                            </h5>
                        </a>
                    </div>

                    <div id="nodeStatsBody" class="collapse" role="tabpanel" aria-labelledby="nodeStatsTitle"
                         data-parent="#accordion">
                        <div class="card-body">
                            <ul class="list-group">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Tip Height
                                    <span class="badge badge-primary badge-pill">{{.NodeData.TipHeight}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Tip Hash
                                    <span class="badge badge-primary badge-pill text-overflow">{{.NodeData.TipHash}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Tip Slot
                                    <span class="badge badge-primary badge-pill">{{.NodeData.TipSlot}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Justified Height
                                    <span class="badge badge-primary badge-pill">{{.NodeData.JustifiedHeight}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Justified Hash
                                    <span class="badge badge-primary badge-pill text-overflow">{{.NodeData.JustifiedHash}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Justified Slot
                                    <span class="badge badge-primary badge-pill">{{.NodeData.JustifiedSlot}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Finalized Height
                                    <span class="badge badge-primary badge-pill">{{.NodeData.FinalizedHeight}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Finalized Hash
                                    <span class="badge badge-primary badge-pill text-overflow">{{.NodeData.FinalizedHash}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Finalized Slot
                                    <span class="badge badge-primary badge-pill">{{.NodeData.FinalizedSlot}}</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>

                <div class="card">

                    <div class="card-header" role="tab" id="networkStatsTitle">
                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#networkStatsBody"
                           aria-expanded="false" aria-controls="networkStatsBody">
                            <h5 class="mb-0">
                                Network Stats
                            </h5>
                        </a>
                    </div>

                    <div id="networkStatsBody" class="collapse" role="tabpanel" aria-labelledby="networkStatsTitle"
                         data-parent="#accordion">
                        <div class="card-body">
                            <ul class="list-group">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Node ID: <code>{{.NetworkData.ID}}</code>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Peers Connected
                                    <span class="badge badge-primary badge-pill text-overflow">{{.NetworkData.PeersConnected}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Peers Ahead
                                    <span class="badge badge-primary badge-pill">{{.NetworkData.PeersAhead}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Peers Equal
                                    <span class="badge badge-primary badge-pill">{{.NetworkData.PeersEqual}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Peers Behind
                                    <span class="badge badge-primary badge-pill">{{.NetworkData.PeersBehind}}</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>

                <div class="card">

                    <div class="card-header" role="tab" id="keystoreStatsTitle">
                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#keystoreStatsBody"
                           aria-expanded="false" aria-controls="keystoreStatsBody">
                            <h5 class="mb-0">
                                Keystore
                            </h5>
                        </a>
                    </div>

                    <div id="keystoreStatsBody" class="collapse" role="tabpanel" aria-labelledby="keystoreStatsTitle"
                         data-parent="#accordion">
                        <div class="card-body">
                            <ul class="list-group">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Keys on keystore
                                    <span class="badge badge-primary badge-pill text-overflow">{{.KeystoreData.Keys}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Active validators
                                    <span class="badge badge-primary badge-pill">{{.KeystoreData.Validators}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Keys participating
                                    <span class="badge badge-primary badge-pill">{{.KeystoreData.KeysParticipating}}</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>

                <div class="card">

                    <div class="card-header" role="tab" id="proposerStatsTitle">
                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#proposerStatsBody"
                           aria-expanded="false" aria-controls="proposerStatsBody">
                            <h5 class="mb-0">
                                Proposer/Vote
                            </h5>
                        </a>
                    </div>

                    <div id="proposerStatsBody" class="collapse" role="tabpanel" aria-labelledby="proposerStatsTitle"
                         data-parent="#accordion">
                        <div class="card-body">
                            <ul class="list-group">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Current slot
                                    <span class="badge badge-primary badge-pill">{{.ProposerData.Slot}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Current epoch
                                    <span class="badge badge-primary badge-pill">{{.ProposerData.Epoch}}</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Voting
                                    {{ if .ProposerData.Voting }}
                                        <span class="badge badge-primary badge-pill">true</span>
                                    {{ else }}
                                        <span class="badge badge-danger badge-pill">false</span>
                                    {{ end }}
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Proposing
                                    {{ if .ProposerData.Proposing }}
                                        <span class="badge badge-primary badge-pill">true</span>
                                    {{ else }}
                                        <span class="badge badge-danger badge-pill">false</span>
                                    {{ end }}
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>

                <div class="card">

                    <div class="card-header" role="tab" id="peersStatsTitle">
                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#peersStatsBody"
                           aria-expanded="false" aria-controls="peersStatsBody">
                            <h5 class="mb-0">
                                Peers Data
                            </h5>
                        </a>
                    </div>

                    <div id="peersStatsBody" class="collapse" role="tabpanel" aria-labelledby="peersStatsTitle"
                         data-parent="#accordion">
                        <div class="card-body">
                            <ul class="list-group">
                                {{range $peer := .PeerData}}
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <span class="text-overflow" style="max-width: 200px">{{$peer.ID}}</span>
                                    <span class="badge badge-primary badge-pill">Fin: {{$peer.Finalized}} Just: {{$peer.Justified}} Tip: {{$peer.Tip}}</span>
                                </li>
                                {{end}}
                            </ul>

                        </div>
                    </div>

                </div>

                <div class="card">

                    <div class="card-header" role="tab" id="participationStatsTitle">
                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#participationStatsBody"
                           aria-expanded="false" aria-controls="participationStatsBody">
                            <h5 class="mb-0">
                                Participation information
                            </h5>
                        </a>
                    </div>

                    <div id="participationStatsBody" class="collapse" role="tabpanel" aria-labelledby="participationStatsTitle"
                         data-parent="#accordion">
                        <div class="card-body">
                            <ul class="list-group">
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    Epoch Slot
                                    <span class="badge badge-primary badge-pill text-overflow">{{ .ParticipationInfo.EpochSlot }}/5</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                   Epoch
                                    <span class="badge badge-primary badge-pill text-overflow">{{ .ParticipationInfo.Epoch }}</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>

            </div>
        </div>

    </div>
</main>

<div class="main-footer-separator"></div>
<!-- Footer -->
<footer class="footer">
    <div class="container">

    </div>
    <script src="/static/js/jquery.slim.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
</footer>

</body>

</html>